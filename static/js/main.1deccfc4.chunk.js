(this.webpackJsonpvendiseller=this.webpackJsonpvendiseller||[]).push([[0],{58:function(e,t,c){},59:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},73:function(e,t,c){},75:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(24),s=c.n(r),i=(c(58),c(18)),o=c(6),l=c.p+"static/media/logo.057b7f94.png",u=(c(59),c(10));c(60),c(78);u.a.initializeApp({apiKey:"AIzaSyADC2MPKRdfktD3DN9WZvlOoi8-iWESD0k",authDomain:"vendiseller-12e93.firebaseapp.com",databaseURL:"https://vendiseller-12e93-default-rtdb.firebaseio.com",projectId:"vendiseller-12e93",storageBucket:"vendiseller-12e93.appspot.com",messagingSenderId:"892138250850",appId:"1:892138250850:web:3cd5ae899336c22b4aa73b"});var j=u.a.auth(),d=u.a.storage(),b=new u.a.auth.GoogleAuthProvider,O=c.p+"static/media/google.323574c7.jpg",p=(c(40),c(2));var h=function(){var e=Object(o.g)();return Object(p.jsxs)("div",{className:"loginContainer",children:[Object(p.jsx)("img",{src:l}),Object(p.jsx)("h2",{children:"HELLO THERE,"}),Object(p.jsx)("h2",{children:"WELCOME BACK"}),Object(p.jsxs)("div",{className:"login",onClick:function(){var t=u.a.database().ref("/seller"),c=u.a.database().ref("/vend"),n=u.a.database().ref("/RFID");j.signInWithPopup(b).then((function(a){a.additionalUserInfo.isNewUser&&(t.update({full_name:a.user.displayName,p_quantity:4,totalSales:0}),c.update({disp:0,p_quantity:0,slot_no:3}),n.update({ifscan:0})),e.replace("/")})).catch((function(e){console.log("error")}))},children:[Object(p.jsx)("p",{children:"Login with Google"}),Object(p.jsx)("img",{src:O})]})]})};c(69);var f=function(){var e=Object(o.g)();return Object(n.useEffect)((function(){setTimeout((function(){e.push("/login")}),3e3)}),[]),Object(p.jsxs)("div",{className:"splashContainer",children:[Object(p.jsx)("img",{src:l}),Object(p.jsx)("h2",{children:"Vendi Seller"}),Object(p.jsx)("p",{children:"Convenience at your fingertips"})]})},v=c(12),x=c(23),m="ADDUSER",g={user:[]},N=c(8),S=(c(70),c(51)),y=c.n(S),C=c(47),w=c.n(C);c(71);var _=function(e){var t=e.showSidebar,c=Object(v.c)((function(e){return e.user.user}));return Object(p.jsxs)("div",{className:t?"sidebar showSidebar":"sidebar",children:[Object(p.jsx)("div",{className:"close",children:Object(p.jsx)(w.a,{className:"closeIcon",onClick:function(){return t(!1)}})}),Object(p.jsx)("img",{src:l,className:"sidebarLogo"}),Object(p.jsxs)("div",{className:"username",children:[Object(p.jsx)("h2",{children:"Hello,"}),Object(p.jsx)("h2",{children:null===c||void 0===c?void 0:c.displayName})]}),Object(p.jsx)(i.b,{className:"link",activeClassName:"activeLink",to:"/",children:"Home"}),Object(p.jsx)(i.b,{className:"link",activeClassName:"activeLink",to:"/addnewproduct",children:"Add New Product"}),Object(p.jsx)("button",{className:"link",onClick:function(){j.signOut()},children:"LogOut"})]})};var k=function(){var e=Object(n.useState)(!1),t=Object(N.a)(e,2),c=t[0],a=t[1],r=Object(v.c)((function(e){return e.user.user}));return Object(p.jsxs)("div",{className:"header",children:[c&&Object(p.jsx)(_,{showSidebar:a}),Object(p.jsx)("div",{className:"left",children:Object(p.jsx)(y.a,{style:{fontSize:"2rem",cursor:"pointer"},onClick:function(){return a(!0)}})}),Object(p.jsxs)("div",{className:"right",children:[Object(p.jsx)("img",{id:"profilePhoto",src:null===r||void 0===r?void 0:r.photoURL}),Object(p.jsx)("p",{children:null===r||void 0===r?void 0:r.displayName})]})]})};c(73);var L=function(){Object(v.c)((function(e){return e.user.user}));var e=Object(n.useState)(5),t=Object(N.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(N.a)(r,2),i=s[0],l=s[1],j=Object(n.useState)(0),d=Object(N.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(5),f=Object(N.a)(h,2),x=f[0],m=f[1],g=Object(n.useState)(""),S=Object(N.a)(g,2),y=S[0],C=S[1],w=Object(n.useState)(5),_=Object(N.a)(w,2),L=_[0],P=_[1],I=Object(n.useState)(""),q=Object(N.a)(I,2),E=q[0],D=q[1],A=Object(n.useState)(5),B=Object(N.a)(A,2),F=B[0],R=B[1],U=Object(n.useState)(""),T=Object(N.a)(U,2),H=T[0],W=T[1];Object(n.useLayoutEffect)((function(){u.a.database().ref("/product/1").on("value",(function(e){var t=e.val();null!=t?(a(5-t.p_quantity),l(t.p_image)):a(c)})),u.a.database().ref("/product/2").on("value",(function(e){var t=e.val();null!=t?(m(5-t.p_quantity),C(t.p_image)):m(x)})),u.a.database().ref("/product/3").on("value",(function(e){var t=e.val();null!=t?(P(5-t.p_quantity),D(t.p_image)):P(L)})),u.a.database().ref("/product/4").on("value",(function(e){var t=e.val();null!=t?(R(5-t.p_quantity),W(t.p_image)):R(F)})),u.a.database().ref("/seller").on("value",(function(e){var t=e.val();O(null!=t?t.totalSales:b)}))}),[]);var z=Object(o.g)();return Object(p.jsxs)("div",{className:"homeContainer",children:[Object(p.jsx)(k,{}),Object(p.jsxs)("div",{className:"gridContainer",children:[Object(p.jsxs)("div",{className:"gridBox",children:[i&&Object(p.jsx)("img",{src:i}),Object(p.jsx)("strong",{children:"Slot No 1"}),Object(p.jsxs)("p",{children:["No of Products Space Left:",Object(p.jsx)("strong",{children:c})]})]}),Object(p.jsxs)("div",{className:"gridBox",children:[y&&Object(p.jsx)("img",{src:y}),Object(p.jsx)("strong",{children:"Slot No 2"}),Object(p.jsxs)("p",{children:["No of Products Space Left:",Object(p.jsx)("strong",{children:x})]})]}),Object(p.jsxs)("div",{className:"gridBox",children:[E&&Object(p.jsx)("img",{src:E}),Object(p.jsx)("strong",{children:"Slot No 3"}),Object(p.jsxs)("p",{children:["No of Products Space Left:",Object(p.jsx)("strong",{children:L})]})]}),Object(p.jsxs)("div",{className:"gridBox",children:[H&&Object(p.jsx)("img",{src:H}),Object(p.jsx)("strong",{children:"Slot No 4"}),Object(p.jsxs)("p",{children:["No of Products Space Left:",Object(p.jsx)("strong",{children:F})]})]})]}),Object(p.jsx)("div",{className:"salesContainer",children:Object(p.jsxs)("h2",{children:["Total No of Sales:",b]})}),Object(p.jsx)("button",{onClick:function(){z.push("/addnewproduct")},className:"addToProductbtn",children:"Add New Product"})]})},P=c(52);var I=function(e){var t=e.component,c=Object(P.a)(e,["component"]),n=Object(v.c)((function(e){return e.user.user}));return Object(p.jsx)(o.b,Object(x.a)(Object(x.a)({},c),{},{render:function(e){return(null===n||void 0===n?void 0:n.email)?Object(p.jsx)(o.a,{to:"/"}):Object(p.jsx)(t,Object(x.a)({},e))}}))},q=c(29),E=c.n(q),D=c(39),A=(c(75),c(92));var B=function(){var e=Object(o.g)(),t=Object(n.useState)(!1),c=Object(N.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),i=Object(N.a)(s,2),l=i[0],j=i[1],b=Object(n.useState)(""),O=Object(N.a)(b,2),h=O[0],f=O[1],v=Object(n.useState)(""),x=Object(N.a)(v,2),m=x[0],g=x[1],S=Object(n.useState)("1"),y=Object(N.a)(S,2),C=y[0],w=y[1],_=Object(n.useState)("1"),L=Object(N.a)(_,2),P=L[0],I=L[1],q=Object(n.useState)(0),B=Object(N.a)(q,2),F=B[0],R=B[1];function U(){return(U=Object(D.a)(E.a.mark((function t(c){var n,a,s,i,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),r(!0),n=0,a=u.a.database(),u.a.database().ref("/product/"+C).on("value",(function(e){var t=e.val();e.exists()&&(n=t.p_quantity)})),s=parseInt(P),!((i=n+s)>5)){t.next=18;break}return g(""),R(0),f(""),I("1"),w("1"),document.getElementById("form").reset(),r(!1),alert("Please enter valid quantity left"),t.abrupt("return");case 18:o=parseInt(C),d.ref("images/".concat(l.name)).put(l).on("state_changed",(function(e){}),(function(e){alert("Cant Upload Image"),g(""),R(0),f(""),I("1"),w("1"),r(!1),document.getElementById("form").reset()}),Object(D.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.ref("images").child(l.name).getDownloadURL().then((function(t){a.ref("/product/"+C).update({p_details:m,p_image:t,p_name:h,p_quantity:i,price:parseInt(F),slot_no:o}),g(""),R(0),f(""),I("1"),w("1"),r(!1),document.getElementById("form").reset(),e.replace("/")}));case 1:case"end":return t.stop()}}),t)})))),r(!1);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return a?Object(p.jsx)("div",{className:"circular",children:Object(p.jsx)(A.a,{})}):Object(p.jsxs)("div",{className:"addContainer",children:[Object(p.jsx)(k,{}),Object(p.jsx)("h2",{children:"Add New Product"}),Object(p.jsxs)("form",{id:"form",className:"formContainer",onSubmit:function(e){return function(e){return U.apply(this,arguments)}(e)},children:[Object(p.jsx)("input",{type:"file",name:"file",required:!0,onChange:function(e){return function(e){var t=e.target.files[0];j(t)}(e)}}),Object(p.jsx)("input",{type:"text",placeholder:"Product Name",required:!0,value:h,onChange:function(e){return f(e.target.value)}}),Object(p.jsx)("label",{htmlFor:"select",required:!0,children:"Select Slot Number"}),Object(p.jsxs)("select",{name:"select",value:C,onChange:function(e){var t=e.target.value;w(t)},children:[Object(p.jsx)("option",{value:"1",children:"1"}),Object(p.jsx)("option",{value:"2",children:"2"}),Object(p.jsx)("option",{value:"3",children:"3"}),Object(p.jsx)("option",{value:"4",children:"4"})]}),Object(p.jsx)("input",{type:"number",value:F,onChange:function(e){return R(e.target.value)},placeholder:"Enter Price",required:!0}),Object(p.jsx)("label",{htmlFor:"quantity",children:"Select Quantity"}),Object(p.jsxs)("select",{name:"quantity",value:P,onChange:function(e){var t=e.target.value;I(t)},children:[Object(p.jsx)("option",{value:"1",children:"1"}),Object(p.jsx)("option",{value:"2",children:"2"}),Object(p.jsx)("option",{value:"3",children:"3"}),Object(p.jsx)("option",{value:"4",children:"4"}),Object(p.jsx)("option",{value:"5",children:"5"})]}),Object(p.jsx)("textarea",{cols:"30",rows:"4",placeholder:"Description",required:!0,value:m,onChange:function(e){return g(e.target.value)}}),Object(p.jsx)("button",{type:"submit",disabled:a,children:"Add New Product"})]})]})};var F=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.user.user}));return Object(n.useEffect)((function(){j.onAuthStateChanged((function(t){e(function(e){return{type:m,user:e}}(t))}))}),[]),Object(p.jsx)(i.a,{children:Object(p.jsxs)(o.d,{children:[Object(p.jsx)(I,{exact:!0,path:"/login",component:h}),Object(p.jsx)(o.b,{exact:!0,path:"/addnewproduct",component:(null===t||void 0===t?void 0:t.email)?B:f}),Object(p.jsx)(o.b,{path:"/",component:(null===t||void 0===t?void 0:t.email)?L:f})]})})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,93)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},U=c(26),T=Object(U.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(x.a)(Object(x.a)({},e),{},{user:t.user});default:return e}}}),H=Object(U.c)(T);s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(v.a,{store:H,children:Object(p.jsx)(F,{})})}),document.getElementById("root")),R()}},[[77,1,2]]]);
//# sourceMappingURL=main.1deccfc4.chunk.js.map